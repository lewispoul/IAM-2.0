
# Copilot Repo Guardrails — IAM-2.0

You are working ONLY in this repository (IAM-2.0). Do not read, edit, scaffold, or reference files from other repositories (e.g., Nox, nox-api-src).

## Goals (Part B: Minimal runnable stack + CJ stub)
1) Env + scripts:
   - Add `scripts/verify_env.py` to import rdkit, psi4, cantera, xtb (or wrapper) and print versions.
   - Add Makefile with targets: `env`, `run`, `test`, `lint`.

2) Backend routes (match existing framework, FastAPI or Flask):
   - `iam/backend/routes/xtb.py`
   - `iam/backend/routes/psi4.py`
   - `iam/backend/routes/empirical.py`
   - `iam/backend/routes/cj.py`
   - All endpoints return JSON: `{"ok": true, "data": {...}, "errors": []}`.

3) Core logic stubs:
   - `iam/core/empirical/iam_empirical_predictor.py` with Keshavarz and Kamlet–Jacobs placeholders behind a common interface.
   - `iam/runners/cantera_cj.py` with `predict_cj(stoich: dict, rho0: float, dhf: float|None=None, metals: dict|None=None, species_db: str|None=None) -> dict`, validate inputs, return keys: `Pcj`, `Tcj`, `VoD` (None for now), `products`, `artifacts`.

4) Frontend:
   - Add compute tabs for XTB, Psi4, Empirical, CJ.
   - Forms POST to the new endpoints and render the normalized response.
   - Add “Export JSON” for the last result.

5) Persistence:
   - On success, write `IAM_Knowledge/Results/<timestamp>_<name>.json`.
   - Append one row to `IAM_Knowledge/benchmark_auto.csv` (create dirs if missing).

6) Tests:
   - Unit tests for empirical interface and CJ input validation.
   - XTB smoke test using `methane_test.xyz` if present; otherwise skip with a clear message.

7) Docs:
   - Update README quick start with `make env` and `make run`.
   - Add `API.md` that documents the four endpoints and the normalized schema.

## Required workflow
- Before starting any task: read all `.md` files in this repo to understand current state.
- After each task: write a short summary (files touched, features added, tests, metrics if any).
- At the end: create `REPORTS/IAM2_min_stack.md` with the final summary.

## Commit style
- Use small, focused commits with Conventional Commits:
  - `chore(env): add verify_env.py and Makefile`
  - `feat(api): add cj route with normalized schema`
  - `feat(core): empirical predictor stubs`
  - `test: add CJ validation tests`
  - `docs: add API.md and update README`

## Safety checks
- Do not create or modify files outside this repository.
- Do not rename or remove existing public APIs without instruction.
- Keep endpoints returning the normalized JSON schema above.

------------------------------
